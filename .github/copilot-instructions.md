## Краткая цель
Помогать быстро и безопасно вносить изменения в этот репозиторий — прежде всего редактировать или развивать `main.py` (основной/единственный файл проекта). Репозиторий минимален: нет зависимостей, тестов или CI-конфигов, поэтому делай минимальные, обратимые изменения и всегда документируй добавления.

## Что важно знать сразу
- Файловая структура сейчас очень простая — единственный файл: `main.py` (пустой/минимальный). Перед добавлением новой функциональности проверь, не хочет ли заказчик отдельный пакет/репозиторий.
- Нет `requirements.txt`, `pyproject.toml`, `README.md` или CI. Добавление внешних пакетов должно сопровождаться созданием `requirements.txt` и инструкций по запуску.

## Контракты и ожидания при правках
- Вход/выход: правки в `main.py` должны быть самодокументируемыми и работать при запуске `python3 main.py` (если ты добавляешь запуск — опиши его в README и/или добавь простую проверку ручного запуска).
- Совместимость: не добавляй глобальные системные зависимости без явного согласования; используй виртуальное окружение и фиксируй зависимости.

## Конкретные рекомендации для агента
- Прежде чем добавить Telegram‑интеграцию или конфигурации, спроси: есть ли секреты/токены, куда их хранить (env, vault). Если решаешь использовать env — документируй переменные в README.
- Если добавляешь новую библиотеку — создавай `requirements.txt` с версией (например `aiogram==3.0.0a6`) и добавляй короткую инструкцию запуска.
- Для новых модул — делай пакетную структуру (`moder_telegram/`), перемещай код туда и сохраняй `main.py` как thin runner:
  - `main.py` — точка входа, импортирует `moder_telegram.app:run()`

## Примеры лучших правок (на основе содержимого репо)
- Если реализуешь обработку команд Telegram, добавь функцию `handle_update(update: dict) -> Optional[str]` и покрой её простыми unit-test'ами в `tests/test_handlers.py`.
- Если добавляешь логирование, используй стандартный `logging` и конфигуруй его в `main.py` через `logging.basicConfig(level=logging.INFO)`.

## Что НЕ делать
- Не добавляй CI/infra изменения без согласования — репозиторий явно минимален.
- Не хранить токены/секреты в коде или в репозитории.

## Файлы для первичной проверки
- `main.py` — единственная исходная точка сейчас. Открой её первой.
- При появлении новых файлов — следуй паттерну: модульный код в подпапке, `main.py` — thin runner, зависимости в `requirements.txt`.

## Вопросы/неопределённости (делай запрос, не угадывай)
- Каким образом запускать сервис в проде (systemd/docker/k8s)? — спроси у владельца.
- Где хранить секреты? — уточни; до ответа — используй env и документируй.

Если нужно, я могу расширить эти инструкции под реальную структуру кода после того как вы добавите содержимое `main.py` или другие файлы (README, dependency file, tests).

---
Пожалуйста, укажите, какие части неполные или какие практики вы хотите зафиксировать — обновлю файл по вашим комментариям.
